<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <div style='float: right; '><a th:href="@{/logout}">logout</a>
    </div>

    <title>Users</title>
    <style>table th, table td {
        padding: 5px;
    }

    .row {
        font-style: italic;
        color: blue;
    }

    </style>
</head>
<body>
<h1>List of users</h1>

<table >
    <tr>

        <th>Id</th>
        <th>First_name</th>
        <th>Last_name</th>
        <th>Workplace</th>
        <th>Age</th>
        <th>Salary</th>
        <th>Username</th>
        <th>Role</th>
        <th>Managing</th>
    </tr>

    <tr th:each="user : ${users}">

        <td th:utext="${user.id}">Id</td>
        <td th:utext="${user.name}">First_name</td>
        <td th:utext="${user.surname}">Last_name</td>
        <td th:utext="${user.workplace}">Workplace</td>
        <td th:utext="${user.age}">Age</td>
        <td th:utext="${user.salary}">Salary</td>
        <td th:utext="${user.username}">Username</td>
        <td>
            <p   th:each="role : ${user.roles}">
                <span th:text="${role.role.toString().replaceFirst('ROLE_', '').replaceAll(',', '')}">Roles</span>
            </p>
        </td>
        <td>
            <a th:href="@{/admin/{id}/edit(id=${user.getId()})}">Edit</a>
            <form th:method="delete" th:action="@{/admin/{id}(id=${user.getId()})}">
                <input type="submit" value="delete"/>
            </form>
        </td>

    </tr>
</table>

<br/>
<hr/>
<a href="/admin/new">Create new user</a>
</body>
</html>